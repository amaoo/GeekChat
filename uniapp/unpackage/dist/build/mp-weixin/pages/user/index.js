(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/index"],{"891d":function(n,e,t){"use strict";t.r(e);var o=t("f7d7"),i=t("d110");for(var a in i)["default"].indexOf(a)<0&&function(n){t.d(e,n,(function(){return i[n]}))}(a);t("9a04");var r=t("f0c5"),c=Object(r["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],void 0);e["default"]=c.exports},"9a04":function(n,e,t){"use strict";var o=t("bcba"),i=t.n(o);i.a},bcba:function(n,e,t){},c9c4:function(n,e,t){"use strict";(function(n,e){var o=t("4ea4");t("3e5f");o(t("66fd"));var i=o(t("891d"));n.__webpack_require_UNI_MP_PLUGIN__=t,e(i.default)}).call(this,t("bc2e")["default"],t("543d")["createPage"])},d110:function(n,e,t){"use strict";t.r(e);var o=t("df9b"),i=t.n(o);for(var a in o)["default"].indexOf(a)<0&&function(n){t.d(e,n,(function(){return o[n]}))}(a);e["default"]=i.a},df9b:function(n,e,t){"use strict";(function(n){var o=t("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,a=o(t("2eee")),r=o(t("c973")),c=t("0c66");i=n.getMenuButtonBoundingClientRect();var u={components:{models:function(){t.e("components/model").then(function(){return resolve(t("0016"))}.bind(null,t)).catch(t.oe)},wxLogin:function(){Promise.all([t.e("common/vendor"),t.e("components/wxLogin")]).then(function(){return resolve(t("365d"))}.bind(null,t)).catch(t.oe)}},data:function(){return{is_login:!1,menuButtonInfo:i,loadShow:!0,isSign:!1,signShow:!1,signTitle:"",signIntegral:0,inviteIntegral:0,adIntegral:0,loginShow:!1}},onLoad:function(){var n=this;return(0,r.default)(a.default.mark((function e(){var t;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=n,t.vuex_user,t.loadShow=!1;case 3:case"end":return e.stop()}}),e)})))()},onShow:function(){var e=this;return(0,r.default)(a.default.mark((function t(){var o;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:o=e,n.getStorageSync("token")&&(o.is_login=!0);case 2:case"end":return t.stop()}}),t)})))()},methods:{loginClick:function(){this.is_login||(this.loginShow=!0)},exitClick:function(){var e=this;n.showModal({title:"温馨提示",content:"确定退出当前登录账户？",confirmText:"退出",confirmColor:"#7966ff",success:function(){var t=(0,r.default)(a.default.mark((function t(o){return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:o.confirm&&(e.$u.vuex("token",""),n.removeStorageSync("token"),e.is_login=!1);case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()})},getUserInfo:function(e){var t=this;n.showLoading({title:"登录中..."}),n.login({provider:"weixin",success:function(n){var e=n.code;t.wxloginres(e)},fail:function(e){n.hideLoading(),n.showToast({icon:"none",title:"登录失败",duration:1500})}})},wxloginres:function(e){var t=this;return(0,r.default)(a.default.mark((function o(){var i;return a.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:i=t,(0,c.MPLogin)({code:e,appid:n.getAccountInfoSync().miniProgram.appId}).then((function(e){n.showToast({icon:"none",mask:!0,title:"登录成功",duration:1500}),i.$u.vuex("token",e.data.token),i.is_login=!0,n.setStorageSync("token",e.data.token)})).catch((function(n){})),n.hideLoading(),i.loginShow=!1;case 4:case"end":return o.stop()}}),o)})))()},zanshang:function(){n.showModal({title:"赞赏",content:"如果您觉得本小程序不错，可以请作者喝杯咖啡哦~",showCancel:!1,confirmText:"赞赏",confirmColor:"#7966ff",success:function(e){e.confirm&&n.previewImage({urls:["https://chatgpt.pcmxj.com/uploads/qrcode.jpg"]})}})}},onShareAppMessage:function(n){return{title:"抢先体验GPT-4",imageUrl:"/static/share_bg.jpg",path:"/pages/index/index?userId="+this.vuex_user._id}},onShareTimeline:function(n){return{title:"抢先体验GPT-4",imageUrl:"/static/share_bg.jpg",path:"/pages/index/index"}}};e.default=u}).call(this,t("543d")["default"])},f7d7:function(n,e,t){"use strict";t.d(e,"b",(function(){return o})),t.d(e,"c",(function(){return i})),t.d(e,"a",(function(){}));var o=function(){var n=this,e=n.$createElement,t=(n._self._c,n.wxVideoAdIds.length),o=t?Math.floor(Math.random()*n.wxVideoAdIds.length+1):null;n._isMounted||(n.e0=function(e){n.loginShow=!1},n.e1=function(e){n.signShow=!1}),n.$mp.data=Object.assign({},{$root:{g0:t,g1:o}})},i=[]}},[["c9c4","common/runtime","common/vendor"]]]);